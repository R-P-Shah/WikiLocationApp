<!doctype html>
<html lang="en-us">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Geo Location</title>
    <link type="text/css" rel="stylesheet" href="css/index.css"/>
    <script src="js/index.js"></script>
    
</head>
<body> <!-- initially load rochester-->
    <div id = "intro">
        <h1>CityExplorer</h1>
    </div>
    <!-- City Picker-->
    <div id="addressPickerContainer">
        <select id="address" onchange="changeLocation( this ); updateWiki(city); ">
            <option value="43.1610,-77.6109, Rochester_New_York">Rochester NY</option>
            <option value="40.7128,-74.0060, New_York_City">New York NY</option>
            <option value="41.8781,-87.6298, Chicago">Chicago IL</option>
            <option value="48.8589507,2.2770202, Paris">Paris</option>
            <option value="11.5748011,43.1207599, Djibouti">Djibouti</option>
        </select>
    </div>
    <!-- Map API-->
    <div class = "card" id="map-canvas"><h3>Loading map. Please wait...</h3></div>
    <!-- Javascript for Google Map Setup, creates Map and puts marker at current location-->
    <script src="js/map.js"></script>

    <!-- Wikipedia API -->
    <script src="js/wikipedia.js"></script>    
    <div class = "card" id="wikipedia" onclick="updateExtract();"> 
        <p class= "label">About:</p> 
        <div>
            <p><strong id="extract" >Click Refresh</strong><p>
        </div>
        <div  class = "refresh">
            <img  class = "controlButton" onclick = "updateWiki(city);"  alt="REFRESH" src="../img/refresh.png"/>
            <img class = "controlButton" id = "expandButton" onclick="changeCard(this.parentNode.parentNode);"  alt="EXPAND or SHRINK" src="../img/expand.png"/>
        </div>
    </div>
    
    <div class = "card" id="pageviewContainer" onclick = "updateViews();">
        <p class= "label">Page Views Today:</p> 
        <p><strong class = "generated" id="pageview">Click Refresh</strong></p>
        <div  class = "refresh">
            <img  class = "controlButton" onclick = "updateWiki(city);"  alt="REFRESH" src="../img/refresh.png"/>
        </div>
    </div>

    <div class = "card" id="updatedContainer" onclick="updateDate();">
        <p class = "label">Page Last Updated:<p>
        <p><strong class = "generated" id ="touchedDate">Click Refresh</strong></p>
        <div  class = "refresh">
            <img  class = "controlButton" onclick = "updateWiki(city);"  alt="REFRESH" src="../img/refresh.png"/>
        </div>
    </div>

    <script>
        //initial calls to update page
        updateWiki('Rochester_New_York'); 
    </script>
    
    <script src="https://maps.google.com/maps/api/js?key=AIzaSyCS7FiY1xS-w6xk4KVzXq7YNwZxXtHZs6A&callback=initMap"></script>
</body>
</html>